<div class="label-field-pair"><label> <%= t('select_a_subject') %><span class="necessary-field">*</span>  </label></div>
<div class="fee_category_scroll">
  <div class="sel-list">
    Select: <%= link_to_function "#{t('all')}", "$$('input.subjects_box').each(function(checkbox) { checkbox.checked = true; });#{remote_function(:url => {:action => "update_students_list"}, :with => "'deselected_students='+get_deselected_students()+'&subject_ids='+get_subject_ids()")}" %>,
    <%= link_to_function "#{t('none')}", "$$('input.subjects_box').each(function(checkbox) { checkbox.checked = false; });#{remote_function(:url => {:action => "update_students_list"}, :with => "'deselected_students='+get_deselected_students()+'&subject_ids='+get_subject_ids()")}" %>
  </div>
  <% subjects.each do |s| %>
    <div class="each_batch">
      <%= check_box_tag "subject_ids[]", s.id, (subject_ids.map{|u| u.to_s}.include?((s.id).to_s) unless subject_ids.nil?) ,:class=>'subjects_box', :onChange=>"#{remote_function(:url => {:action => "update_students_list"}, :with => "'deselected_students='+get_deselected_students()+'&subject_ids='+get_subject_ids()")}"%> <span><%= s.name %></span>
    </div>
  <% end %>
</div>